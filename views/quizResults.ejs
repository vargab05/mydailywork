<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Results</title>
    <link rel="stylesheet" href="/css/resultstyle.css">
</head>
<body>
    <div class="main">
        <div class="header">
            <nav>
                <img src="/images/quizlogo4.png"/>
                <ul class="top-menu">
                    <li><a href="/home">HOME</a></li>
                    <li><a href="#">ABOUT</a></li>
                    <li><a href="/contact">CONTACT</a></li>
                    <li><a href="/index">LOGOUT</a></li>
                </ul>
            </nav>
        </div>
        <div class="quiz-container">
    <h1>Quiz Results: <%= quizTitle %></h1>
    
    <div class="result-summary">
        You scored <%= score %> out of <%= totalQuestions %>.
    </div>
    <div class="question-container">
    <% resultDetails.forEach(function(result, qIndex) { %>
        <div class="question">
            <h3><%= qIndex + 1 %>. <%= result.questionText %></h3>

            <ul>
                <% result.options.forEach(function(option, oIndex) { %>
                    <li class="
                        <%= oIndex == result.correctOptionIndex ? 'correct' : '' %> 
                        <%= oIndex == result.userSelectedOption && oIndex != result.correctOptionIndex ? 'incorrect' : '' %>
                    ">
                        <%= option.text %> 
                        <% if (oIndex == result.correctOptionIndex) { %>
                            (Correct Answer)
                        <% } %>
                        <% if (oIndex == result.userSelectedOption && oIndex != result.correctOptionIndex) { %>
                            (Your Answer)
                        <% } %>
                    </li>
                <% }); %>
            </ul>

            <% if (result.isCorrect) { %>
                <p class="correct">You answered correctly!</p>
            <% } else { %>
                <p class="incorrect">You answered incorrectly.</p>
            <% } %>
        </div>
    <% }); %>
</div>
</div>

</div>

</body>
</html>
